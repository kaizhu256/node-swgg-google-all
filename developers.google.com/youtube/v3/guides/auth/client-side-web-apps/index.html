





<!DOCTYPE html><html lang="en"
      class="chekov"><head><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script><meta charset="utf-8"><meta name="xsrf_token" content="UtiFYDZeenWolv1RkJjLhGEr4kvnBAsjeXMFgmix5UA6MTUyNDQ1ODMxNzIzOTU2MA" /><link rel="canonical" href="https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps"><link rel="alternate" href="https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps?hl=ja" hreflang="ja"><link rel="alternate" href="https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps?hl=pt-br" hreflang="pt-br"><link rel="alternate" href="https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps?hl=es" hreflang="es"><link rel="alternate" href="https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps?hl=ko" hreflang="ko"><link rel="alternate" href="https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps" hreflang="en"><link rel="alternate" href="https://developers.google.cn/youtube/v3/guides/auth/client-side-web-apps?hl=ja" hreflang="ja-cn"><link rel="alternate" href="https://developers.google.cn/youtube/v3/guides/auth/client-side-web-apps?hl=pt-br" hreflang="pt-br-cn"><link rel="alternate" href="https://developers.google.cn/youtube/v3/guides/auth/client-side-web-apps?hl=es" hreflang="es-cn"><link rel="alternate" href="https://developers.google.cn/youtube/v3/guides/auth/client-side-web-apps?hl=ko" hreflang="ko-cn"><link rel="alternate" href="https://developers.google.cn/youtube/v3/guides/auth/client-side-web-apps" hreflang="en-cn"><link rel="alternate" href="https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps" hreflang="x-default"><link rel="shortcut icon" href="https://developers.google.com/_static/d7147bb846/images/favicon.png"><link rel="apple-touch-icon" href="https://developers.google.com/_static/d7147bb846/images/touch-icon.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet"
      
      href="//fonts.googleapis.com/css?family=Google+Sans:400|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"
      ><link rel="stylesheet"
        href="https://developers.google.com/_static/d7147bb846/css/devsite-youtube-red.css"><link rel="search"
        type="application/opensearchdescription+xml"
        title="Google Developers"
        href="https://developers.google.com/s/opensearch.xml"><script src="https://developers.google.com/_static/d7147bb846/js/jquery-bundle.js"></script><meta property="og:site_name" content="Google Developers"><meta property="og:type" content="website"><meta property="og:url" content="https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps"><meta property="og:locale" content="en"><script>
    var ___gcfg = ___gcfg || {};
    ___gcfg.lang = 'en';
  </script><title>Using OAuth 2.0 for JavaScript Web Applications &nbsp;|&nbsp; YouTube Data API
      &nbsp;|&nbsp; Google Developers</title><meta property="og:title" content="Using OAuth 2.0 for JavaScript Web Applications &nbsp;|&nbsp; YouTube Data API
      &nbsp;|&nbsp; Google Developers"><meta property="og:image"
          content="https://developers.google.com/_static/d7147bb846/images/share/devsite-youtube-red.png"><meta property="og:image:secure_url"
          content="https://developers.google.com/_static/d7147bb846/images/share/devsite-youtube-red.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><style>
    .code-var-color {
      color: #ec407a;
      font-weight: bold;
    }
  </style></head><body class="
               devsite-doc-page
               
               
               
               devsite-header-no-upper-tabs
               "
        data-family="endorsed"
        id="top_of_page"><div class="devsite-wrapper"><div class="devsite-top-section-wrapper
            "><header class="devsite-top-section nocontent"><div class="devsite-top-logo-row-wrapper-wrapper"><div class="devsite-top-logo-row-wrapper"><div class="devsite-top-logo-row devsite-full-site-width"><button type="button" class="devsite-expand-section-nav devsite-header-icon-button
                                       button-flat material-icons gc-analytics-event"
                  data-category="Site-Wide Custom Events" data-label="Hamburger menu"></button><div class="devsite-product-name-wrapper"><a class="devsite-product-name-link gc-analytics-event"
       href="https://developers.google.com/youtube/"
       data-category="Site-Wide Custom Events"
       data-label="Project logo (header)"><img src="https://developers.google.com/site-assets/logo-youtube.svg" class="devsite-product-logo"
               alt="YouTube"></a><span class="devsite-product-name"><ul class="devsite-breadcrumb-list"><li class="devsite-breadcrumb-item"><a href="https://developers.google.com/youtube/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Upper Header"
       data-value="1">
    
    
      
        YouTube
      
    
    
    </a></li><li class="devsite-breadcrumb-item"><div class="devsite-breadcrumb-guillemet material-icons"></div><a href="https://developers.google.com/youtube/v3/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Upper Header"
       data-value="2">
    
    
      Data API
    
    
    </a></li></ul></span></div><div class="devsite-header-upper-tabs"></div><form class="devsite-search-form"
                action="https://developers.google.com/s/results/"
                method="GET"
                id="top-search"
                search-placeholder='Search'><div id="searchbox" class="devsite-searchbox"><input placeholder='Search'
         
         type="text"
         class="devsite-search-field devsite-search-query"
         name="q"
         value=""
         autocomplete="off"
         
         aria-label="Search box"><div class="devsite-search-image material-icons"></div></div><input type="hidden"
       name="p"
       id="search_project"
       value="/youtube/v3/"
       data-project-name="YouTube Data API"
       data-project-path="/youtube/v3/"
       data-query-match=""><input type="hidden" class="suggest-project" value="YouTube Data API" /><div class="suggest-project-metadata" data-home_url="/youtube/" data-path="/youtube/" data-name="YouTube" ></div><div class="suggest-project-metadata" data-home_url="/youtube/android/player/" data-path="/youtube/android/player/" data-name="YouTube Android Player API" ></div></form><a class="devsite-header-link devsite-top-button button gc-analytics-event"
               href="https://developers.google.com/products/"
               data-category="Site-Wide Custom Events"
               data-label="Site header link"
               track-type="navigateTo"
               track-name="all products"
               track-metadata-position="nav"><div class="devsite-header-link-label">All Products</div></a><button type="button" class="devsite-search-button devsite-header-icon-button button-flat
                                       material-icons"></button><a href="https://www.google.com/accounts/ServiceLogin?passive=true&continue=https%3A%2F%2Fdevelopers.google.com%2Fyoutube%2Fv3%2Fguides%2Fauth%2Fclient-side-web-apps%3Frefresh%3D1&service=ahsid"
   class="devsite-user-signin devsite-top-button button gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Sign in button">
  
  Sign in
</a></div></div></div><div class="devsite-collapsible-section"><div class="devsite-header-background devsite-full-site-width"><div class="devsite-doc-set-nav-row devsite-full-site-width"><nav class="devsite-doc-set-nav devsite-nav devsite-overflow-tabs-scroll-wrapper"><ul class="devsite-doc-set-nav-tab-list devsite-overflow-tabs-scroll"><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/youtube/v3/"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Home"
       >
        Home
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/youtube/v3/getting-started"
         class="devsite-doc-set-nav-active devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         aria-label="Guides, selected"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Guides"
       >
        Guides
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/youtube/v3/docs/"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Reference"
       >
        Reference
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/youtube/v3/code_samples/"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Samples"
       >
        Samples
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/youtube/v3/support"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Support"
       >
        Support
      </a></li><button type="button" id="devsite-feedback-project"
          class="devsite-feedback-button devsite-top-button gc-analytics-event"
          data-category="Site-Wide Custom Events" data-label="Send Feedback Button"
          track-type="feedback" track-name="sendFeedbackLink" track-metadata-position="header">
  
  Send feedback
  </button></ul></nav></div></div></div></header><script>
    if (window.jQuery) {
      $(document).ready(function() {
        if (window.devsite && window.devsite.search) {
          
          window.devsite.search.init('en')
        }
      });
    }
  </script></div><div id="gc-wrapper"itemscope itemtype="http://schema.org/Article"><input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;YouTube Data API&quot;, &quot;dimension5&quot;: &quot;en&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-24532603-1&quot;}"><script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "HK", "language": {"requested": "en", "served": "en"}, "projectName": "YouTube Data API", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>

      
        <div class="devsite-site-mask"></div>
        
  


<nav class="devsite-nav-responsive devsite-nav nocontent" tabindex="0">
  
  <div class="devsite-nav-responsive-tabs-panel">
    
      



<nav class="devsite-nav-responsive-tabs devsite-nav">
  <ul class="devsite-nav-list">
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/youtube/v3/"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Home">
        Home
      </a>
      
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <span class="devsite-nav-responsive-forward devsite-nav-responsive-tab devsite-nav-title
                   devsite-nav-active gc-analytics-event"
            data-category="Site-Wide Custom Events" data-label="Responsive Tab: Guides"
            tabindex="0">
        Guides
      </span>
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/youtube/v3/docs/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Reference">
        Reference
      </a>
      
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/youtube/v3/code_samples/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Samples">
        Samples
      </a>
      
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/youtube/v3/support?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Support">
        Support
      </a>
      
      
    
    </li>
  
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      <a href="https://developers.google.com/products/"
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
         data-label="Responsive Tab: all_products">
        All Products
      </a>
    </li>
  
  </ul>
</nav>


    
  </div>
  
  
  <div class="devsite-nav-responsive-sidebar-panel">
    
    <div class="devsite-nav-responsive-back" tabindex="0"></div>
    
    <nav class="devsite-nav-responsive-sidebar"></nav>
  </div>
  
  
</nav>


        <div class="devsite-main-content clearfix">

        
        

        
  
  
    
    
      
  <nav class="devsite-section-nav devsite-nav nocontent">
    <ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/getting-started" class="devsite-nav-title">Overview</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/libraries" class="devsite-nav-title">Client Libraries</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Authorize Requests, click to expand/collapse" role="link">Authorize Requests</span><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/authentication" class="devsite-nav-title">Overview</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/registering_an_application" class="devsite-nav-title">Get Auth Credentials</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/auth/server-side-web-apps" class="devsite-nav-title">Server-side Web Apps</a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps" class="devsite-nav-title">Client-side Web Apps</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/auth/installed-apps" class="devsite-nav-title">Installed Apps</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/auth/devices" class="devsite-nav-title">Devices</a></li></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Quickstarts, click to expand/collapse" role="link">Quickstarts</span><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/quickstart/android" class="devsite-nav-title">Android</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/quickstart/apps-script" class="devsite-nav-title">Apps Script</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/quickstart/go" class="devsite-nav-title">Go</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/quickstart/ios" class="devsite-nav-title">iOS</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/quickstart/java" class="devsite-nav-title">Java</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/quickstart/js" class="devsite-nav-title">JavaScript</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/quickstart/nodejs" class="devsite-nav-title">Node.js</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/quickstart/php" class="devsite-nav-title">PHP</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/quickstart/python" class="devsite-nav-title">Python</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/quickstart/ruby" class="devsite-nav-title">Ruby</a></li></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Guides and Tutorials, click to expand/collapse" role="link">Guides and Tutorials</span><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/uploading_a_video" class="devsite-nav-title">Upload a Video</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/using_resumable_upload_protocol" class="devsite-nav-title">Send Resumable Uploads</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/push_notifications" class="devsite-nav-title">Subscribe to Push Notifications</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/working_with_channel_ids" class="devsite-nav-title">Work with Channel IDs</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/moving_to_oauth" class="devsite-nav-title">Move from ClientLogin to OAuth</a></li></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/sample_requests" class="devsite-nav-title">Sample Requests</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Implementation and Migration Guide, click to expand/collapse" role="link">Implementation and Migration Guide</span><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation" class="devsite-nav-title">Overview</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/activities" class="devsite-nav-title">Activities</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/captions" class="devsite-nav-title">Captions</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/channels" class="devsite-nav-title">Channels (profiles)</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/comments" class="devsite-nav-title">Comments</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/favorites" class="devsite-nav-title">Favorites</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/pagination" class="devsite-nav-title">Pagination</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/partial" class="devsite-nav-title">Partial responses</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/playlists" class="devsite-nav-title">Playlists</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/ratings" class="devsite-nav-title">Ratings</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/search" class="devsite-nav-title">Search requests</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/subscriptions" class="devsite-nav-title">Subscriptions</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/videos" class="devsite-nav-title">Videos</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/new_in_v3" class="devsite-nav-title">New features</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/guides/implementation/deprecated" class="devsite-nav-title">Deprecated</a></li></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Tools, click to expand/collapse" role="link">Tools</span><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/determine_quota_cost" class="devsite-nav-title">Quota Calculator</a></li><li class="devsite-nav-item devsite-nav-external devsite-nav-has-status"><a href="https://developers.google.com/apis-explorer/#p/youtube/v3/" class="devsite-nav-title"><span class="devsite-nav-text">APIs Explorer</span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" title="External"></span></span></a></li></li></ul>
  </nav>

    

    
  <nav class="devsite-page-nav devsite-nav"></nav>


      <article class="devsite-article">
        <article class="devsite-article-inner">
  
          
  



  
  <nav class="devsite-breadcrumb-nav devsite-nav">
    


<ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item">
    
    
    <a href="https://developers.google.com/products/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="1">
    
    
      Products
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.com/youtube/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="2">
    
    
      YouTube
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.com/youtube/v3/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="3">
    
    
      Data API
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.com/youtube/v3/getting-started" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="4">
    
    
      Guides
    
    
    </a>
    
  </li>
  
</ul>

  </nav>
  
  
  <h1 itemprop="name" class="devsite-page-title">
    Using OAuth 2.0 for JavaScript Web Applications
  </h1>
  
  
  <nav class="devsite-page-nav-embedded devsite-nav"></nav>
  
  <div class="devsite-article-body clearfix
            "
       itemprop="articleBody">
    

















































































































































    











































































































































<p>This document explains how to implement OAuth 2.0 authorization to access
   Google APIs from a JavaScript web application. OAuth 2.0 allows users to
   share specific data with an application while keeping their usernames,
   passwords, and other information private.

For example, an application can use OAuth 2.0 to obtain permission
to upload videos to a user's YouTube channel.

</p>

<p>This OAuth 2.0 flow is called the <em>implicit grant flow</em>. It is
   designed for applications that access APIs only while the user is present
   at the application. These applications are not able to store confidential
   information.</p>

<p>In this flow, your app opens a Google URL that uses query parameters to
   identify your app and the type of API access that the app requires. You can
   open the URL in the current browser window or a popup. The user can
   authenticate with Google and grant the requested permissions. Google then
   redirects the user back to your app. The redirect includes an access token,
   which your app verifies and then uses to make API requests.</p>


  <aside class="note"><strong>Note:</strong> Given the security implications
  of getting the implementation correct, we strongly encourage you to use
  OAuth 2.0 libraries when interacting with Google's OAuth 2.0 endpoints. It
  is a best practice to use well-debugged code provided by others, and it
  will help you protect yourself and your users. See the
  <b>JS Client Library</b> tabs in this document for examples that show how
  to authorize users with the Google APIs Client Library for JavaScript.</aside>




<h2 id="prerequisites">Prerequisites</h2>


<h3 id="enable-apis">Enable APIs for your project</h3>
<p>Any application that calls Google APIs needs to enable those APIs in the
API Console. To enable APIs for your project:</p>

<ol>
  <li>Open the <a href="https://console.developers.google.com/apis/library">Library</a> page in the
    API Console.</li>
  <li>Select the project associated with your application. Create a project if
    you do not have one already.</li>

  <li>Use the <b>Library</b> page to find and enable the
    YouTube Data API. Find any other APIs that your application will
    use and enable those, too.
  </li>

</ol>




<h3 id="creatingcred">Create authorization credentials</h3>
<p>Any application that uses OAuth 2.0 to access Google APIs must have
authorization credentials that identify the application to Google's OAuth 2.0
server. The following steps explain how to create credentials for your project.
Your applications can then use the credentials to access APIs that you have
enabled for that project.</p>



<ol>
  







  <li>Open the <a href="https://console.developers.google.com/apis/credentials">Credentials page</a> in the API Console.</li>

  <li>Click <b>Create credentials > OAuth client ID</b>.</li>
  <li>
      Complete the form. Set the application type to <code>Web
      application</code>. Applications that use JavaScript to make authorized
      Google API requests must specify authorized <b>JavaScript origins</b>.
      The origins identify the domains from which your application can send
      API requests.
  </li>
</ol>
 


<h3 id="identify-access-scopes">Identify access scopes</h3>

<p>Scopes enable your application to only request access to the resources that
it needs while also enabling users to control the amount of access that they
grant to your application. Thus, there may be an inverse relationship between
the number of scopes requested and the likelihood of obtaining user consent.</p>

<p>Before you start implementing OAuth 2.0 authorization, we recommend that you
identify the scopes that your app will need permission to access.</p>







    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <p>The YouTube Data API uses the following scopes:</p>
    
    
<table class="responsive">
  <tr><th colspan="2">Scopes</th></tr>
  <tr><td>https://www.googleapis.com/auth/youtube</td><td>Manage your YouTube account</td></tr>
  <tr><td>https://www.googleapis.com/auth/youtube.force-ssl</td><td>Manage your YouTube account</td></tr>
  <tr><td>https://www.googleapis.com/auth/youtube.readonly</td><td>View your YouTube account</td></tr>
  <tr><td>https://www.googleapis.com/auth/youtube.upload</td><td>Manage your YouTube videos</td></tr>
  <tr><td>https://www.googleapis.com/auth/youtubepartner</td><td>View and manage your assets and associated content on YouTube</td></tr>
  <tr><td>https://www.googleapis.com/auth/youtubepartner-channel-audit</td><td>View private information of your YouTube channel relevant during the audit process with a YouTube partner</td></tr>
</table>


    

    

    


<p>The <a href="https://developers.google.com/identity/protocols/googlescopes">OAuth 2.0 API Scopes</a>
document contains a full list of scopes that you might use to access Google
APIs.</p>



 

 




<h2 id="obtainingaccesstokens">Obtaining OAuth 2.0 access tokens</h2>

<p>The following steps show how your application interacts with Google's OAuth
2.0 server to obtain a user's consent to perform an API request on the user's
behalf. Your application must have that consent before it can execute a Google
API request that requires user authorization.</p>






<h3 id="creatingclient">Step 1: Configure the client object</h3>
<p>If you are using Google APIs client library for JavaScript to handle the
OAuth 2.0 flow, your first step is to configure the <code>gapi.auth2</code>
and <code>gapi.client</code> objects. These objects enable your application
to obtain user authorization and to make authorized API requests.</p>  

<p>The client object identifies the scopes that your application is requesting
permission to access. These values inform the consent screen that Google
displays to the user. The <a href="#choosing-access-scopes">Choosing access
scopes</a> section provides information about how to determine which scopes
your application should request permission to access.</p>

  <div class="ds-selector-dropdown" data-ds-scope="lang">
    <section>
      <h3 class="hide-from-toc">JS Client Library</h3>
      <p>The JavaScript client library simplifies numerous aspects of the
   authorization process:
   <ol>
     <li>It creates the redirect URL for Google's authorization server and
         provides a method to direct the user to that URL.</li>
     <li>It handles the redirect from that server back to your
         application.
     <li>It validates the access token returned by the authorization
         server.</li>
     <li>It stores the access token that the authorization server sends
         to your application and retrieves it when your app subsequently
         makes authorized API calls.</li>
   </ol>

<p>The code snippet below is an excerpt from the <a href="#example">complete
   example</a> shown later in this document. This code initializes the
   <code>gapi.client</code> object, which your application would later use to
   make API calls. When that object is created, the <code>gapi.auth2</code>
   object, which your application uses to check and monitor the user's
   authorization status, is also initialized.</p> 

<p>The call to <code>gapi.client.init</code> specifies the following
   fields:</p>

<ul>
  <li>
    <p>The <code>apiKey</code> and <code>clientId</code> values specify
       your application's authorization credentials. As discussed in the
       <a href="#creatingcred">creating authorization credentials</a>
       section, these values can be obtained in the API Console.
       Note that the <code>clientId</code> is required if your application
       makes authorized API requests. Applications that only make unauthorized
       requests can just specify an API key.</p>
  </li>
  <li>
    <p>The <code>scope</code> field specifies a space-delimited list of
       <a href="https://developers.google.com/youtube/v3/guides/auth/identify-access-scopes">access scopes</a> that correspond
       to the resources that your application needs to access. These values
       inform the consent screen that Google displays to the user.</p>
    <p>We recommend that your application request access to authorization
       scopes in context whenever possible. By requesting access to user data
       in context, via <a href="#incremental-authorization">incremental
       authorization</a>, you help users to more easily understand why your
       application needs the access it is requesting.</p>
  </li>
  <li>
    <p>The <code>discoveryDocs</code> field identifies a list of <a
       href="https://developers.google.com/api-client-library/javascript/features/discovery">API
       Discovery documents</a> that your application uses. A Discovery
       document describes the surface of an API, including its resource
       schemas, and the JavaScript client library uses that information
       to generate methods that applications can use.
       
In this example, the code retrieves the discovery document for version 3 of
the YouTube Data API.
</p>
  </li>
</ul>

<p>After the <code>gapi.client.init</code> call completes, the code sets the
   <code>GoogleAuth</code> variable to identify the Google Auth object.
   Finally, the code sets a listener that calls a function when the user's
   sign-in status changes. (That function is not defined in the snippet.)</p>

<pre class="prettyprint lang-js">
var GoogleAuth; // Google Auth object.
function initClient() {
  gapi.client.init({
      'apiKey': '<span class="code-var-color">YOUR_API_KEY</span>',
      'clientId': '<span class="code-var-color">YOUR_CLIENT_ID</span>',
      'scope': 'https://www.googleapis.com/auth/youtube.force-ssl',
      'discoveryDocs': ['https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest']
  }).then(function () {
      GoogleAuth = gapi.auth2.getAuthInstance();

      // Listen for sign-in state changes.
      GoogleAuth.isSignedIn.listen(updateSigninStatus);
  });
}</pre>

    </section>
    <section>
      <h3 class="hide-from-toc">OAuth 2.0 Endpoints</h3>
      <p>If you are directly accessing the OAuth 2.0 endpoints, you can
         proceed to the next step.</p>
    </section>
  </div>



<h3 id="redirecting">Step 2: Redirect to Google's OAuth 2.0 server</h3>

<p>To request permission to access a user's data, redirect the user to
   Google's OAuth 2.0 server.</p>



  <div class="ds-selector-dropdown" data-ds-scope="lang">
    <section>
      <h3 class="hide-from-toc">JS Client Library</h3>
      <p>Call the <code>GoogleAuth.signIn()</code> method to direct the user to
   Google's authorization server.</p>

<pre class="prettyprint lang-js">
GoogleAuth.signIn();
</pre>

<p>In practice, your application might set a Boolean value to determine
   whether to call the <code>signIn()</code> method before attempting to
   make an API call.</p>

<p>The code snippet below demonstrates how you would initiate the user
   authorization flow. Note the following points about the snippet:</p>

<ul>
  <li>
    <p>The <code>GoogleAuth</code> object referenced in the code is the same
      as the global variable defined in the code snippet in
      <a href="#creatingclient">step 1</a>.</p>
  </li>
  <li>
    <p>The <code>updateSigninStatus</code> function is a listener that listens
      for changes to the user's authorization status. Its role as a listener
      was also defined in the code snippet in step 1:</p>
    <pre>GoogleAuth.isSignedIn.listen(updateSigninStatus);</pre>
  </li>
  <li>
    <p>The snippet defines two additional global variables:</p>
    <ul>
      <li>
        <p><code>isAuthorized</code> is a Boolean variable that indicates
           whether the user is already signed in. This value can be set when
           the app loads and updated if the user signs in or out of the
           app.</p>
        <p>In this snippet, the <code>sendAuthorizedApiRequest</code> function
           checks the variable's value to determine whether the app should
           attempt an API request that requires authorization or prompt the
           user to authorize the app.</p>
      </li>
      <li>
        <p><code>currentApiRequest</code> is an object that stores details
           about the last API request that the user attempted. The object's
           value is set when the app calls the
           <code>sendAuthorizedApiRequest</code> function.</p>
        <p>If the user has authorized the app, the request is executed right
           away. Otherwise, the function redirects the user to sign in. After
           the user signs in, the <code>updateSignInStatus</code> function
           calls <code>sendAuthorizedApiRequest</code>, passing in the same
           request that was attempted before the authorization flow started.</p>
      </li>
    </ul>
  </li>
</ul>

<pre class="prettyprint lang-js">
var isAuthorized;
var currentApiRequest;

/**
 * Store the request details. Then check to determine whether the user
 * has authorized the application.
 *   - If the user has granted access, make the API request.
 *   - If the user has not granted access, initiate the sign-in flow.
 */
function sendAuthorizedApiRequest(requestDetails) {
  currentApiRequest = requestDetails;
  if (isAuthorized) {
    // Make API request
    // gapi.client.request(requestDetails)

    // Reset currentApiRequest variable.
    currentApiRequest = {};
  } else {
    GoogleAuth.signIn();
  }
}

/**
 * Listener called when user completes auth flow. If the currentApiRequest
 * variable is set, then the user was prompted to authorize the application
 * before the request executed. In that case, proceed with that API request.
 */
function updateSigninStatus(isSignedIn) {
  if (isSignedIn) {
    isAuthorized = true;
    if (currentApiRequest) {
      sendAuthorizedApiRequest(currentApiRequest);
    }
  } else {
    isAuthorized = false;
  }
}
</pre>

    </section>
    <section>
      <h3 class="hide-from-toc">OAuth 2.0 Endpoints</h3>
      <p>Generate a URL to request access from Google's OAuth 2.0 endpoint at
      <code>https://accounts.google.com/o/oauth2/v2/auth</code>. This endpoint is
      accessible over HTTPS; plain HTTP connections are refused.</p>

      <p>The Google authorization server supports the following query string
      parameters for web server applications:</p>

      <table class="responsive details">
  <th colspan="2">Parameters</th>
  <tr id="request-parameter-client_id">
    <td><code>client_id</code></td>
    <td><b>Required</b>. The client ID for your application. You can find
    this value in the <a href="https://console.developers.google.com/">API Console</a>.</td>
  </tr>

  <tr id="request-parameter-redirect_uri">
    <td><code>redirect_uri</code></td>
    <td><b>Required</b>. 
    
    Determines where the API server redirects the user after the user completes
    the authorization flow. The value must exactly match one of the
    <code>redirect_uri</code> values listed for your project in the
    <a href="https://console.developers.google.com/">API Console</a>. Note that the <code>http</code> or
    <code>https</code> scheme, case, and trailing slash ('<code>/</code>')
    must all match.
    
    </td>
  </tr>
  <tr id="request-parameter-response_type">
    <td><code>response_type</code></td>
    <td><b>Required</b>. 
      
        JavaScript applications need to set the parameter's value to
        <code class="notranslate">token</code>. This instructs the Google
        Authorization Server to return the access token as a
        <code class="notranslate">name=value</code> pair in the hash
        (<code class="notranslate">#</code>) fragment of the URI to which
        the user is redirected after completing the authorization process.
      
    </td>
  </tr>

  <tr id="request-parameter-scope">
    <td id="scope"><code>scope</code></td>
    <td><b>Required</b>. A space-delimited list of scopes that identify the
    resources that your application could access on the user's behalf. These
    values inform the consent screen that Google displays to the user.<br><br>
    Scopes enable your application to only request access to the resources that
    it needs while also enabling users to control the amount of access that
    they grant to your application. Thus, there is an inverse relationship
    between the number of scopes requested and the likelihood of obtaining user
    consent.
    
    


    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <p>The YouTube Data API uses the following scopes:</p>
    
    
<table class="responsive">
  <tr><th colspan="2">Scopes</th></tr>
  <tr><td>https://www.googleapis.com/auth/youtube</td><td>Manage your YouTube account</td></tr>
  <tr><td>https://www.googleapis.com/auth/youtube.force-ssl</td><td>Manage your YouTube account</td></tr>
  <tr><td>https://www.googleapis.com/auth/youtube.readonly</td><td>View your YouTube account</td></tr>
  <tr><td>https://www.googleapis.com/auth/youtube.upload</td><td>Manage your YouTube videos</td></tr>
  <tr><td>https://www.googleapis.com/auth/youtubepartner</td><td>View and manage your assets and associated content on YouTube</td></tr>
  <tr><td>https://www.googleapis.com/auth/youtubepartner-channel-audit</td><td>View private information of your YouTube channel relevant during the audit process with a YouTube partner</td></tr>
</table>


    

    

    
    
    The <a href="https://developers.google.com/identity/protocols/googlescopes">OAuth 2.0 API Scopes</a>
    document provides a full list of scopes that you might use to access
    Google APIs.
    

    <br><br>
    We recommend that your application request access to authorization scopes
    in context whenever possible. By requesting access to user data in context,
    via <a href="#incremental-authorization">incremental authorization</a>,
    you help users to more easily understand why your application needs the
    access it is requesting.

</td>
  </tr>


  <tr id="request-parameter-state">
    <td><code>state</code></td>
    <td><b>Recommended</b>. Specifies any string value that your application
    uses to maintain state between your authorization request and the
    authorization server's response. The server returns the exact value that
    you send as a <code class="notranslate">name=value</code> pair in the hash
    (<code class="notranslate">#</code>) fragment of the
    <code class="notranslate">redirect_uri</code> after the user consents
    to or denies your application's access request.<br><br>
    You can use this parameter for several purposes, such as directing the
    user to the correct resource in your application, sending nonces, and
    mitigating cross-site request forgery. Since your <code>redirect_uri</code>
    can be guessed, using a <code>state</code> value can increase your
    assurance that an incoming connection is the result of an authentication
    request. If you generate a random string or encode the hash of a cookie or
    another value that captures the client's state, you can validate the
    response to additionally ensure that the request and response originated
    in the same browser, providing protection against attacks such as
    cross-site request forgery. See the <a
    href="https://developers.google.com/identity/protocols/OpenIDConnect#createxsrftoken">OpenID Connect</a>
    documentation for an example of how to create and confirm a
    <code>state</code> token.</td>
    
  </tr>


  <tr id="request-parameter-include_granted_scopes">
    <td><code>include_granted_scopes</code></td>
    <td><b>Optional</b>. Enables applications to use incremental authorization
    to request access to additional scopes in context. If you set this
    parameter's value to <code>true</code> and the authorization request is
    granted, then the new access token will also cover any scopes to which the
    user previously granted the application access. See the
    <a href="#incremental-authorization">incremental authorization</a> section
    for examples.</td>
  </tr>


  <tr id="request-parameter-login_hint">
    <td><code>login_hint</code></td>
    <td><b>Optional</b>. If your application knows which user is trying to
    authenticate, it can use this parameter to provide a hint to the Google
    Authentication Server.  The server uses the hint to simplify the login
    flow either by prefilling the email field in the sign-in form or by
    selecting the appropriate multi-login session.<br><br>
    Set the parameter value to an email address or <code>sub</code>
    identifier.</td>
    
  </tr>




  <tr id="request-parameter-prompt">
    <td><code>prompt</code></td>
    <td>
      <b>Optional</b>. A space-delimited, case-sensitive list of prompts to
      present the user. If you don't specify this parameter, the user will be
      prompted only the first time your app requests access. Possible values
      are:
      <table class="responsive">
        <tr>
          <td><code>none</code></td>
          <td>Do not display any authentication or consent screens. Must not be
            specified with other values.</td>
        </tr>
        <tr>
          <td><code>consent</code></td>
          <td>Prompt the user for consent.</td>
        </tr>
        <tr>
          <td><code>select_account</code></td>
          <td>Prompt the user to select an account.</td>
        </tr>
      </table>
    </td>
  </tr>

</table>




      <h4>Sample redirect to Google's authorization server</h4>

      
<p>The sample URL below requests offline access
(<code>access_type=offline</code>) to a scope that permits access to view
the user's YouTube account. It uses incremental authorization to ensure that
the new access token covers any scopes to which the user previously granted
the application access. The URL also sets values for the required
<code>redirect_uri</code>, <code>response_type</code>, and
<code>client_id</code> parameters as well as for the <code>state</code>
parameter. The URL contains line breaks and spaces for readability.</p>


      <pre>https://accounts.google.com/o/oauth2/v2/auth?
&nbsp;scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fyoutube.readonly&
&nbsp;include_granted_scopes=true&
&nbsp;state=state_parameter_passthrough_value&
&nbsp;redirect_uri=http%3A%2F%2Flocalhost%2Foauth2callback&
&nbsp;response_type=token&
&nbsp;client_id=<span class="code-var-color">client_id</span></pre>

      <p>After you create the request URL, redirect the user to it.</p>

      <h4>JavaScript sample code</h4>
      <p>The following JavaScript snippet shows how to initiate the
         authorization flow in JavaScript without using the Google APIs
         Client Library for JavaScript. Since this OAuth 2.0 endpoint
         does not support Cross-origin resource sharing (CORS), the snippet
         creates a form that opens the request to that endpoint.</p>
      <pre class="prettyprint">
/*
 * Create form to request access token from Google's OAuth 2.0 server.
 */
function oauthSignIn() {
  // Google's OAuth 2.0 endpoint for requesting an access token
  var oauth2Endpoint = 'https://accounts.google.com/o/oauth2/v2/auth';

  // Create &lt;form&gt; element to submit parameters to OAuth 2.0 endpoint.
  var form = document.createElement('form');
  form.setAttribute('method', 'GET'); // Send as a GET request.
  form.setAttribute('action', oauth2Endpoint);

  // Parameters to pass to OAuth 2.0 endpoint.
  var params = {'client_id': '<b>YOUR_CLIENT_ID</b>',
                'redirect_uri': '<b>YOUR_REDIRECT_URI</b>',
                'response_type': 'token',
                'scope': 'https://www.googleapis.com/auth/youtube.force-ssl',
                'include_granted_scopes': 'true',
                'state': 'pass-through value'});

  // Add form parameters as hidden input values.
  for (var p in params) {
    var input = document.createElement('input');
    input.setAttribute('type', 'hidden');
    input.setAttribute('name', p);
    input.setAttribute('value', params[p]);
    form.appendChild(input);
  }

  // Add form to page and submit it to open the OAuth 2.0 endpoint.
  document.body.appendChild(form);
  form.submit();
}
</pre>


    </section>
  </div>



 


<h3 id="userconsentprompt">Step 3: Google prompts user for consent</h3>

<p>In this step, the user decides whether to grant your application the
requested access. At this stage, Google displays a consent window that shows
the name of your application and the Google API services that it is requesting
permission to access with the user's authorization credentials. The user can
then consent or refuse to grant access to your application.</p>

<p>Your application doesn't need to do anything at this stage as it waits for
the response from Google's OAuth 2.0 server indicating whether the access was
granted. That response is explained in the following step.</p>

 


<h3 id="handlingresponse">Step 4: Handle the OAuth 2.0 server response</h3>

  <div class="ds-selector-dropdown" data-ds-scope="lang">
    <section>
      <h3 class="hide-from-toc">JS Client Library</h3>
      <p>The JavaScript client library handles the response from Google's
         authorization server. If you set a listener to monitor changes
         in the current user's sign-in state, that function is called
         when the user grants the requested access to the application.</p>
    </section>
    <section>
      <h3 class="hide-from-toc">OAuth 2.0 Endpoints</h3>
      <p>The OAuth 2.0 server sends a response to the <code>redirect_uri</code>
         specified in your access token request.</p>

      <p>If the user approves the request, then the response contains an access
         token. If the user does not approve the request, the response contains
         an error message. The access token or error message is returned on the
         hash fragment of the redirect URI, as shown below:</p>

      <ul>
        <li><p>An authorization code response:</p>
          <pre>https://oauth2.example.com/callback#access_token=4/P7q7W91&token_type=Bearer&expires_in=3600</pre>
          <p>In addition to the <code>access_token</code> parameter, the
             query string also contains the <code>token_type</code> parameter,
             which is always set to <code>Bearer</code>, and the
             <code>expires_in</code> parameter, which specifies the lifetime
             of the token, in seconds. If the <code>state</code> parameter
             was specified in the access token request, its value is also
             included in the response.</p>
        </li>
        <li><p>An error response:</p>
          <pre>https://oauth2.example.com/callback#error=access_denied</pre>
        </li>
      </ul>

      <p class="note"><b>Note:</b> Your application should ignore any
         additional, unrecognized fields included in the query string.</p>

      <h4>Sample OAuth 2.0 server response</h4>
      <p>
You can test this flow by clicking on the following sample URL, which requests
read-only access to the authenticated user's YouTube account:
</p>
      <pre><a href="https://accounts.google.com/o/oauth2/v2/auth?scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdrive.metadata.readonly&state=state_parameter_passthrough_value&redirect_uri=http%3A%2F%2Flocalhost%2Foauth2callback&response_type=token&client_id=583306224539-atbcaa8ne8g85e8kc006o6vmq99qiid0.apps.googleusercontent.com">https://accounts.google.com/o/oauth2/v2/auth?
&nbsp;scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fyoutube.readonly&
&nbsp;include_granted_scopes=true&
&nbsp;state=state_parameter_passthrough_value&
&nbsp;redirect_uri=http%3A%2F%2Flocalhost%2Foauth2callback&
&nbsp;response_type=token&
&nbsp;client_id=<span class="code-var-color">client_id</span></a></pre>

      <p>After completing the OAuth 2.0 flow, you will be redirected to
      <code>http://localhost/oauth2callback</code>. That URL will yield a
      <code>404 NOT FOUND</code> error unless your local machine happens to
      serve a file at that address. The next step provides more detail about
      the information returned in the URI when the user is redirected back
      to your application.</p>

      <p class="note">The code snippet in
         <a href="#validate-access-token">step 5</a> shows how to parse the
         OAuth 2.0 server response and then validate the access token.</p>

    </section>
  </div>

 

<h3 id="validate-access-token">Step 5: Validate the user's token</h3>





<div class="ds-selector-dropdown" data-ds-scope="lang">
<section>
<h3 class="hide-from-toc">JS Client Library</h3>
<p>The JavaScript client library automatically validates the access token
   returned by Google's authorization server. This validation step ensures
   that your application is not vulnerable to the
   <a href="http://en.wikipedia.org/wiki/Confused_deputy_problem">confused
   deputy problem</a>.</p>
</section>
<section>
<h3 class="hide-from-toc">OAuth 2.0 Endpoints</h3>
<p>If the user has granted access to your application, you must explicitly
   validate the token returned in the hash fragment of the
   <code>redirect_uri</code>. By validating, or verifying, the token, you
   ensure that your application is not vulnerable to the
   <a href="http://en.wikipedia.org/wiki/Confused_deputy_problem">confused
   deputy problem</a>.</p>

<p>To validate the token, send a request to
   <code>https://www.googleapis.com/oauth2/v3/tokeninfo</code> and set the
   token as the <code>access_token</code> parameter's value. The following
   URL shows a sample request:</p>

<pre>https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=<span class="code-var-color">&lt;access_token&gt;</span></pre>

<p>Google's authorization server responds to the request with a JSON object
   that either describes the token or contains an error message.</p>

<ul>
  <li>If the token is valid, the JSON object includes the properties in the
      following table:

  <table class="responsive">
    <tr>
      <th colspan="2">Fields</th>
    </tr>
    <tr>

      <td><code class="notranslate">aud</code></td>

      <td>The application that is the intended user of the access token.
          <br/><br/>
          <div class="note">
          <strong>Important:</strong> Before using the token, you need to
          verify that this field's value exactly matches your
          <code class="notranslate">Client ID</code> in the
          <a class="notranslate"
          href="https://console.developers.google.com/">Google API Console</a>.
          This verification ensures that your application is not vulnerable to the
          <a href="http://en.wikipedia.org/wiki/Confused_deputy_problem">confused deputy problem</a>.</div></td>
    </tr>
    <tr>
      <td><code class="notranslate">expires_in</code></td>
      <td>The number of seconds left before the token becomes invalid.</td>
    </tr>
    <tr>
      <td><code class="notranslate">scope</code></td>
      <td>A space-delimited list of scopes that the user granted access to.
          The list should match the scopes specified in your authorization
          request in step 1.</td>
    </tr>
    <tr>
      <td><code class="notranslate">userid</code></td>
      <td>This value lets you correlate profile information from multiple Google
          APIs. It is only present in the response if you included the
          <code>profile</code> scope in your request in step 1. The field value
          is an immutable identifier for the logged-in user that can be used to
          create and manage user sessions in your application.<br><br>
          The identifier is the same regardless of which client ID is used to
          retrieve it. This enables multiple applications in the same
          organization to correlate profile information.</td>
    </tr>
  </table>

  <p>A sample response is shown below:</p>
  <pre class="notranslate">
{
  "aud":"8819981768.apps.googleusercontent.com",
  "user_id":"123456789",
  "scope":"https://www.googleapis.com/auth/youtube.force-ssl",
  "expires_in":436
}
</pre>

  </li>
  <li>If the token has expired, been tampered with, or had its permissions
      revoked, Google's authorization server returns an error message in the
      JSON object. The error surfaces as a <code>400</code> error and a
      JSON body in the format shown below.

      <pre class="notranslate">{"error":"invalid_token"}</pre>

      By design, no additional information is given as to the reason for the
      failure.<br><br>
      <strong>Note:</strong> In practice, a 400 error typically indicates that
      the <a href="#Obtain_Access_Token">access token request URL</a> was
      malformed, often due to improper URL escaping.
  </li>
</ul>


<p>The JavaScript snippet below parses the response from Google's
   authorization server and then validates the access token. If the token
   is valid, the code stores it in the browser's local storage. You could
   modify the snippet to also send the token to your server as a means of
   making the token available to other API clients.</p>
<pre class="prettyprint">
var queryString = location.hash.substring(1);

// Parse the query string to extract access token and other parameters.
// This code is useful if you set a value for the 'state' parameter when
// redirecting the user to the OAuth 2.0 server, but otherwise isn't needed.
var params = {};
var regex = /([^&=]+)=([^&]*)/g, m;
while (m = regex.exec(queryString)) {
  params[decodeURIComponent(m[1])] = decodeURIComponent(m[2]);
  // Try to exchange the param values for an access token.
  exchangeOAuth2Token(params);
}

/* Validate the access token received on the query string. */
function exchangeOAuth2Token(params) {
  var oauth2Endpoint = 'https://www.googleapis.com/oauth2/v3/tokeninfo';
  if (params['access_token']) {
    var xhr = new XMLHttpRequest();
    xhr.open('POST', oauth2Endpoint + '?access_token=' + params['access_token']);
    xhr.onreadystatechange = function (e) {
      var response = JSON.parse(xhr.response);
      // Verify that the 'aud' property in the response matches YOUR_CLIENT_ID.
      if (xhr.readyState == 4 &&
          xhr.status == 200 &&
          response['aud'] &&
          response['aud'] == <b>YOUR_CLIENT_ID</b>) {
        localStorage.setItem('oauth2-test-params', JSON.stringify(params) );
      } else if (xhr.readyState == 4) {
        console.log('There was an error processing the token, another ' +
                    'response was returned, or the token was invalid.')
      }
    };
    xhr.send(null);
  }
}
</pre>

</section>
</div>


 





<h2 id="callinganapi">Calling Google APIs</h2>

 

<div class="ds-selector-dropdown" data-ds-scope="lang">
<section>
<h3 class="hide-from-toc">JS Client Library</h3>
<p>After your application obtains an access token, you can use the JavaScript
   client library to make API requests on the user's behalf. The client library
   manages the access token for you, and you do not need to do anything special
   to send it in the request.</p>

<p>The client library supports two ways to call API methods. If you have loaded
   a discovery document, the API will define method-specific functions for you.
   You can also use the
   <code><a href="https://developers.google.com/api-client-library/javascript/reference/referencedocs#gapiclientrequestargs">gapi.client.request</a></code>
   function to call an API method.
   
The following two sample snippets demonstrate these options for the YouTube
Data API's <code>channels.list</code> method.

   </p>

<pre class="prettyprint">
// Example 1: Use method-specific function
var request = gapi.client.youtube.channels.list({'part': 'snippet', 'mine': 'true'});

// Execute the API request.
request.execute(function(response) {
  console.log(response);
});


// Example 2: Use gapi.client.request(args) function
var request = gapi.client.request({
  'method': 'GET',
  'path': /youtube/v3/channels,
  'params': {'part': 'snippet', 'mine': 'true'}
});
// Execute the API request.
request.execute(function(response) {
  console.log(response);
});
</pre>

</section>
<section>
<h3 class="hide-from-toc">OAuth 2.0 Endpoints</h3>














<p>After your application obtains an access token, you can use the token to
make calls to a Google API on behalf of a given user account or service
account. To do this, include the access token in a request to the API by
including either an <code>access_token</code> query parameter or an
<code>Authorization: Bearer</code> HTTP header. When possible, the HTTP header
is preferable, because query strings tend to be visible in server logs. In most
cases you can use a client library to set up your calls to Google APIs (for
example, when <a href="https://developers.google.com/youtube/v3/docs/">calling the
YouTube Data API</a>).</p>



<p>Note that the YouTube Data API supports service accounts only for YouTube
content owners that own and manage multiple YouTube channels, such as record
labels and movie studios.</p>



<p>You can try out all the Google APIs and view their scopes at the <a href="https://developers.google.com/oauthplayground/">OAuth 2.0 Playground</a>.</p>

<h4>HTTP GET examples</h4>
<p>A call to the <a href="https://developers.google.com/youtube/v3/docs/channels/list"><code>youtube.channels</code></a> endpoint (the YouTube Data API) using the <code>Authorization: Bearer</code> HTTP header might look like the following. Note that you need to specify your own access token:<p>
<pre>
GET /youtube/v3/channels?part=snippet&mine=true HTTP/1.1
Authorization: Bearer <code class="code-var-color">&lt;access_token&gt;</code>
Host: www.googleapis.com/
</pre>
<p>Here is a call to the same API for the authenticated user using the
<code>access_token</code> query string parameter:</p>
<pre>
GET https://www.googleapis.com/youtube/v3/channels?access_token=<code class="code-var-color">&lt;access_token&gt;</code>&part=snippet&mine=true
</pre>

<h4><code>curl</code> examples</h4>
<p>You can test these commands with the <code>curl</code> command-line application. Here's an example that uses the HTTP header option (preferred):
<pre>
curl -H "Authorization: Bearer <code class="code-var-color">&lt;access_token&gt;</code>" https://www.googleapis.com/youtube/v3/channels?part=snippet&mine=true
</pre>
<p>Or, alternatively, the query string parameter option:</p>
<pre>
curl https://www.googleapis.com/youtube/v3/channels?access_token=<code class="code-var-color">&lt;access_token&gt;</code>&part=snippet&mine=true
</pre>

<h4>JavaScript sample code</h4>
<p>The code snippet below demonstrates how to use CORS (Cross-origin resource
   sharing) to send a request to a Google API. This example does not use the
   Google APIs Client Library for JavaScript. However, even if you are not
   using the client library, the
   <a href="https://developers.google.com/api-client-library/javascript/features/cors">CORS support</a>
   guide in that library's documentation will likely help you to better
   understand these requests.</p>

<p>In this code snippet, the <code>access_token</code> variable represents
   the token you have obtained to make API requests on the authorized user's
   behalf. The <a href="#example">complete example</a> demonstrates how to
   store that token in the browser's local storage and retrieve it when making
   an API request.</p>

<pre class="prettyprint">
var xhr = new XMLHttpRequest();
xhr.open('GET',
    'https://www.googleapis.com/youtube/v3/channels?part=snippet&mine=true&' +
    'access_token=' + params['access_token']);
xhr.onreadystatechange = function (e) {
  console.log(xhr.response);
};
xhr.send(null);
</pre>

</section>
</div>

 

 
 



<h2 id="example">Complete example</h2>


   
    <div class="ds-selector-dropdown" data-ds-scope="lang">
      <section>
        <h3 class="hide-from-toc">JS Client Library</h3>
        

<h4>Sample code demo</h4>

<p>This section contains a working demo of the code sample that follows to
   demonstrate how the code behaves in an actual app. After you authorize the
   app, it will be listed among the
   <a href="https://myaccount.google.com/permissions?pli=1">apps connected
   to your Google Account</a>. The app is named <b>OAuth 2.0 Demo for
   Google API Docs</b>. Similarly, if you revoke access and refresh that page,
   that app will no longer be listed.</p>


<p>Note that this app requests access to the <code>https://www.googleapis.com/auth/youtube.force-ssl</code>
   scope. The access is requested only to demonstrate how to initiate the
   OAuth 2.0 flow in a JavaScript application. This app does not make any
   API requests.</p>


<iframe data-src="https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps_ec069eb4ee1e5b8b108b5cfbf3fee23a.frame" class="framebox inherit-locale " style="width: calc(100% + 40px); height: calc(100px + 40px);"><p>[This section requires a browser that supports JavaScript and iframes.]</p></iframe>

<h4>JavaScript sample code</h4>
<p>As shown above, this code sample is for a page (an app) that loads the
   Google APIs Client Library for JavaScript and initiates the OAuth 2.0 flow.
   The page displays either:</p>
<ul>
  <li>
    <p>One button that lets the user sign in to the app. If the user has not
       previously authorized the app, then the app launches the OAuth 2.0
       flow.</p>
  </li>
  <li>
    <p>Two buttons that allow the user to either sign out of the app or to
       revoke access previously granted to the app. If you sign out of an app,
       you have not revoked access granted to the app. You will need to sign
       in again before the app can make other authorized requests on your
       behalf, but you will not have to grant access again the next time you
       use the app. However, if you revoke access, then you do need to grant
       access again.</p>
  </li>
</ul>

<p>You can also revoke access to the app through the
   <a href="https://myaccount.google.com/permissions">Permissions</a> page for
   your Google Account. The app is listed as <b>OAuth 2.0 Demo for Google API
   Docs</b>.</p>

<pre class="prettyprint lang-js">
&lt;script&gt;
  var GoogleAuth;
  var SCOPE = 'https://www.googleapis.com/auth/youtube.force-ssl';
  function handleClientLoad() {
    // Load the API's client and auth2 modules.
    // Call the initClient function after the modules load.
    gapi.load('client:auth2', initClient);
  }

  function initClient() {
    // Retrieve the discovery document for version 3 of YouTube Data API.
    // In practice, your app can retrieve one or more discovery documents.
    var discoveryUrl = 'https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest';

    // Initialize the gapi.client object, which app uses to make API requests.
    // Get API key and client ID from API Console.
    // 'scope' field specifies space-delimited list of access scopes.
    gapi.client.init({
        'apiKey': 'YOUR_API_KEY',
        'discoveryDocs': [discoveryUrl],
        'clientId': 'YOUR_CLIENT_ID',
        'scope': SCOPE
    }).then(function () {
      GoogleAuth = gapi.auth2.getAuthInstance();

      // Listen for sign-in state changes.
      GoogleAuth.isSignedIn.listen(updateSigninStatus);

      // Handle initial sign-in state. (Determine if user is already signed in.)
      var user = GoogleAuth.currentUser.get();
      setSigninStatus();

      // Call handleAuthClick function when user clicks on
      //      "Sign In/Authorize" button.
      $('#sign-in-or-out-button').click(function() {
        handleAuthClick();
      }); 
      $('#revoke-access-button').click(function() {
        revokeAccess();
      }); 
    });
  }

  function handleAuthClick() {
    if (GoogleAuth.isSignedIn.get()) {
      // User is authorized and has clicked 'Sign out' button.
      GoogleAuth.signOut();
    } else {
      // User is not signed in. Start Google auth flow.
      GoogleAuth.signIn();
    }
  }

  function revokeAccess() {
    GoogleAuth.disconnect();
  }

  function setSigninStatus(isSignedIn) {
    var user = GoogleAuth.currentUser.get();
    var isAuthorized = user.hasGrantedScopes(SCOPE);
    if (isAuthorized) {
      $('#sign-in-or-out-button').html('Sign out');
      $('#revoke-access-button').css('display', 'inline-block');
      $('#auth-status').html('You are currently signed in and have granted ' +
          'access to this app.');
    } else {
      $('#sign-in-or-out-button').html('Sign In/Authorize');
      $('#revoke-access-button').css('display', 'none');
      $('#auth-status').html('You have not authorized this app or you are ' +
          'signed out.');
    }
  }

  function updateSigninStatus(isSignedIn) {
    setSigninStatus();
  }
&lt;/script&gt;

&lt;button id="sign-in-or-out-button"
        style="margin-left: 25px"&gt;Sign In/Authorize&lt;/button&gt;
&lt;button id="revoke-access-button"
        style="display: none; margin-left: 25px"&gt;Revoke access&lt;/button&gt;

&lt;div id="auth-status" style="display: inline; padding-left: 25px"&gt;&lt;/div&gt;&lt;hr&gt;

&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"&gt;&lt;/script&gt;
&lt;script async defer src="https://apis.google.com/js/api.js" 
        onload="this.onload=function(){};handleClientLoad()" 
        onreadystatechange="if (this.readyState === 'complete') this.onload()"&gt;
&lt;/script&gt;
</pre>

      </section>
      <section>
        <h3 class="hide-from-toc">OAuth 2.0 Endpoints</h3>
    <p>This code sample demonstrates how to complete the OAuth 2.0 flow in
   JavaScript without using the Google APIs Client Library for JavaScript.
   The code is for an HTML page that displays a button to try an API request.
   If you click the button, the code checks to see whether the page has stored
   an API access token in your browser's local storage. If so, it executes the
   API request. Otherwise, it initiates the OAuth 2.0 flow.</p>

<p>For the OAuth 2.0 flow, the page follows these steps:</p>
<ol>
  <li>It directs the user to Google's OAuth 2.0 server, which requests access
      to the <code>https://www.googleapis.com/auth/youtube.force-ssl</code> scope.</li>
  <li>After granting (or denying) access, the user is redirected to the original
      page, which parses the access token from the query string.</li>
  <li>The page validates the access token and, if it is valid, executes the
      sample API request.
      
This API request calls the YouTube Data API's <code>channels.list</code> method
to retrieve data about the authorized user's YouTube channel.

  </li>
  <li>If the request executes successfully, the API response is logged in the
      browser's debugging console.</li>
</ol>

<p>You can revoke access to the app through the
   <a href="https://myaccount.google.com/permissions">Permissions</a> page for
   your Google Account. The app will be listed as <b>OAuth 2.0 Demo for Google
   API Docs</b>.</p>

<p>To run this code locally, you need to set values for the
   <code>YOUR_CLIENT_ID</code> and <code>REDIRECT_URI</code>
   variables that correspond to your <a href="#creatingcred">authorization
   credentials</a>. The <code>REDIRECT_URI</code> should be the same URL where
   the page is being served. Your project in the <a href="https://console.developers.google.com/">Google API Console</a> must also
   have <a href="#enable-apis">enabled the appropriate API</a> for this request.

<pre class="prettyprint lang-js">
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;
&lt;script&gt;
  var YOUR_CLIENT_ID = '<b>REPLACE_THIS_VALUE</b>';
  var YOUR_REDIRECT_URI = '<b>REPLACE_THIS_VALUE</b>';
  var queryString = location.hash.substring(1);

  // Parse query string to see if page request is coming from OAuth 2.0 server.
  var params = {};
  var regex = /([^&=]+)=([^&]*)/g, m;
  while (m = regex.exec(queryString)) {
    params[decodeURIComponent(m[1])] = decodeURIComponent(m[2]);
    // Try to exchange the param values for an access token.
    exchangeOAuth2Token(params);
  }

  // If there's an access token, try an API request.
  // Otherwise, start OAuth 2.0 flow.
  function trySampleRequest() {
    var params = JSON.parse(localStorage.getItem('oauth2-test-params'));
    if (params && params['access_token']) {
      var xhr = new XMLHttpRequest();
      xhr.open('GET',
          'https://www.googleapis.com/youtube/v3/channels?part=snippet&mine=true&' +
          'access_token=' + params['access_token']);
      xhr.onreadystatechange = function (e) {
        console.log(xhr.response);
      };
      xhr.send(null);
    } else {
      oauth2SignIn();
    }
  }

  /*
   * Create form to request access token from Google's OAuth 2.0 server.
   */
  function oauth2SignIn() {
    // Google's OAuth 2.0 endpoint for requesting an access token
    var oauth2Endpoint = 'https://accounts.google.com/o/oauth2/v2/auth';

    // Create element to open OAuth 2.0 endpoint in new window.
    var form = document.createElement('form');
    form.setAttribute('method', 'GET'); // Send as a GET request.
    form.setAttribute('action', oauth2Endpoint);

    // Parameters to pass to OAuth 2.0 endpoint.
    var params = {'client_id': YOUR_CLIENT_ID,
                  'redirect_uri': YOUR_REDIRECT_URI,
                  'scope': 'https://www.googleapis.com/auth/youtube.force-ssl',
                  'state': 'try_sample_request',
                  'include_granted_scopes': 'true',
                  'response_type': 'token'};

    // Add form parameters as hidden input values.
    for (var p in params) {
      var input = document.createElement('input');
      input.setAttribute('type', 'hidden');
      input.setAttribute('name', p);
      input.setAttribute('value', params[p]);
      form.appendChild(input);
    }

    // Add form to page and submit it to open the OAuth 2.0 endpoint.
    document.body.appendChild(form);
    form.submit();
  }

  /* Verify the access token received on the query string. */
  function exchangeOAuth2Token(params) {
    var oauth2Endpoint = 'https://www.googleapis.com/oauth2/v3/tokeninfo';
    if (params['access_token']) {
      var xhr = new XMLHttpRequest();
      xhr.open('POST', oauth2Endpoint + '?access_token=' + params['access_token']);
      xhr.onreadystatechange = function (e) {
        var response = JSON.parse(xhr.response);
        // When request is finished, verify that the 'aud' property in the
        // response matches YOUR_CLIENT_ID.
        if (xhr.readyState == 4 &&
            xhr.status == 200 &&
            response['aud'] &&
            response['aud'] == YOUR_CLIENT_ID) {
          // Store granted scopes in local storage to facilitate
          // incremental authorization.
          params['scope'] = response['scope'];
          localStorage.setItem('oauth2-test-params', JSON.stringify(params) );
          if (params['state'] == 'try_sample_request') {
            trySampleRequest();
          }
        } else if (xhr.readyState == 4) {
          console.log('There was an error processing the token, another ' +
                      'response was returned, or the token was invalid.')
        }
      };
      xhr.send(null);
    }
  }
&lt;/script&gt;

&lt;button onclick="trySampleRequest();">Try sample request&lt;/button>
&lt;/body>&lt;/html>
</pre>

      </section>
    </div>
   
 
 


<h2 id="incrementalAuth">Incremental authorization</h2>
<p>In the OAuth 2.0 protocol, your app requests authorization to access
resources, which are identified by scopes. It is considered a best
user-experience practice to request authorization for resources at the time
you need them. To enable that practice, Google's authorization server supports
incremental authorization. This feature lets you request scopes as they are
needed and, if the user grants permission, add those scopes to your existing
access token for that user.</p>


<p>For example, suppose an app helps users identify interesting local events.
The app lets users view videos about the events, rate the videos, and add the
videos to playlists. Users can also use the app to add events to their Google
Calendars.</p>

<p>In this case, at sign-in time, the app might not need or request access to
any scopes. However, if the user tried to rate a video, add a video to a
playlist, or perform another YouTube action, the app could request access to
the <code>https://www.googleapis.com/auth/youtube.force-ssl</code> scope.
Similarly, the app could request access to the
<code>https://www.googleapis.com/auth/calendar</code> scope if the user tried
to add a calendar event.</p>




<p>The following rules apply to an access token obtained from an incremental
authorization:</p>


<ul>
  <li>The token can be used to access resources corresponding to any of the
      scopes rolled into the new, combined authorization.</li>
  <li>When you use the refresh token for the combined authorization to obtain
      an access token, the access token represents the combined authorization
      and can be used for any of its scopes.</li>
  <li>The combined authorization includes all scopes that the user granted
      to the API project even if the grants were requested from different
      clients. For example, if a user granted access to one scope using an
      application's desktop client and then granted another scope to the
      same application via a mobile client, the combined authorization would
      include both scopes.</li>
  <li>If you revoke a token that represents a combined authorization, access
      to all of that authorization's scopes on behalf of the associated user
      are revoked simultaneously.</li>
</ul>


<p>The code samples below show how to add scopes to an existing access token.
   This approach allows your app to avoid having to manage multiple access
   tokens.</p>





  <div class="ds-selector-dropdown" data-ds-scope="lang">
  <section>
  <h3 class="hide-from-toc">JS Client Library</h3>
  <p>To add scopes to an existing access token, call the
   <code>GoogleUser.grant(options)</code> method. The <code>options</code>
   object identifies the additional scopes to which you want to grant
   access.</p>

<pre class="prettyprint">
// Space-separated list of additional scope(s) you are requesting access to.
// This code adds read-only access to the user's calendars via the Calendar API.
var NEW_SCOPES = 'https://www.googleapis.com/auth/calendar.readonly';

// Retrieve the GoogleUser object for the current user.
var GoogleUser = GoogleAuth.currentUser.get();
GoogleUser.grant({'scope': NEW_SCOPES});
</pre>

  </section>
  <section>
  <h3 class="hide-from-toc">OAuth 2.0 Endpoints</h3>
  
  
<p>In this example, the calling application requests access to retrieve the
user's YouTube Analytics data in addition to any other access that the user
has already granted to the application.</p>

  
  <p>To add scopes to an existing access token, include the
   <code>include_granted_scopes</code> parameter in your
   <a href="#redirecting">request to Google's OAuth 2.0 server</a>.</p>

<p>The following code snippet demonstrates how to do that. The snippet assumes that you have stored the scopes for which your access token is valid in the browser's local storage. (The <a href="#example">complete example</a> does just that.)</p>

<p>The snippet compares the scopes for which the access token is valid to the
   scope you want to use for a particular query. If the access token does not
   cover that scope, the OAuth 2.0 flow starts. Here, the
   <code>oauth2SignIn</code> function is the same as the one that was provided
   in <a href="#redirecting">step 2</a> (and that is provided later in the
   <a href="#example">complete example</a>).</p>

<pre class="prettyprint">
var SCOPE = 'https://www.googleapis.com/auth/youtube.force-ssl';
var params = JSON.parse(localStorage.getItem('oauth2-test-params'));

var current_scope_granted = false;
if (params.hasOwnProperty('scope')) {
  var scopes = params['scope'].split(' ');
  for (var s = 0; s &lt; scopes.length; s++) {
    if (SCOPE == scopes[s]) {
      current_scope_granted = true;
    }
  }
}

if (!current_scope_granted) {
  oauth2SignIn(); // This function is defined elsewhere in this document.
} else {
  // Since you already have access, you can proceed with the API request.
}
</pre>

  </section>
  </div>


 
 


  <h2 id="tokenrevoke">Revoking a token</h2>
<p>In some cases a user may wish to revoke access given to an application. A
user can revoke access by visiting
<a href="https://security.google.com/settings/security/permissions" target="_blank">Account Settings</a>.
It is also possible for an application to programmatically revoke the access
given to it. Programmatic revocation is important in instances where a user
unsubscribes or removes an application. In other words, part of the removal
process can include an API request to ensure the permissions granted to the
application are removed.</p>


  

    
      <div class="ds-selector-dropdown" data-ds-scope="lang">
        <section> 
          <h3 class="hide-from-toc">JS Client Library</h3>
          <p>To programmatically revoke a token, call <code><a href="https://developers.google.com/api-client-library/javascript/reference/referencedocs#googleauthdisconnect">GoogleAuth.disconnect()</a></code>:</p>
<pre class="prettyprint">GoogleAuth.disconnect();</pre>

        </section>
        <section>
          <h3 class="hide-from-toc">OAuth 2.0 Endpoints</h3>
          <p>To programmatically revoke a token, your application makes a request to
<code>https://accounts.google.com/o/oauth2/revoke</code> and includes the token
as a parameter:</p>
<pre>curl -H "Content-type:application/x-www-form-urlencoded" \
        https://accounts.google.com/o/oauth2/revoke?token={token}</pre>

<p>The token can be an access token or a refresh token. If the token is an
access token and it has a corresponding refresh token, the refresh token will
also be revoked.</p>


<p class="note"><b>Note:</b> Google's OAuth 2.0 endpoint for revoking tokens supports JSONP and form submissions. It does not support Cross-origin Resource Sharing (CORS).</p>


<p>If the revocation is successfully processed, then the status code of the
response is <code>200</code>. For error conditions, a status code
<code>400</code> is returned along with an error code.</p>


<p>The following JavaScript snippet shows how to revoke a token in JavaScript
   without using the Google APIs Client Library for JavaScript. Since the
   Google's OAuth 2.0 endpoint for revoking tokens does not support
   Cross-origin Resource Sharing (CORS), the code creates a form and submits
   the form to the endpoint rather than using the <code>XMLHttpRequest()</code>
   method to post the request.</p>

<pre class="prettyprint">
function revokeAccess(accessToken) {
  // Google's OAuth 2.0 endpoint for revoking access tokens.
  var revokeTokenEndpoint = 'https://accounts.google.com/o/oauth2/revoke';

  // Create &lt;form&gt; element to use to POST data to the OAuth 2.0 endpoint.
  var form = document.createElement('form');
  form.setAttribute('method', 'post');
  form.setAttribute('action', revokeTokenEndpoint);

  // Add access token to the form so it is set as value of 'token' parameter.
  // This corresponds to the sample curl request, where the URL is:
  //      https://accounts.google.com/o/oauth2/revoke?token={token}
  var tokenField = document.createElement('input');
  tokenField.setAttribute('type', 'hidden');
  tokenField.setAttribute('name', 'token');
  tokenField.setAttribute('value', accessToken);
  form.appendChild(tokenField);

  // Add form to page and submit it to actually revoke the token.
  document.body.appendChild(form);
  form.submit();
}
</pre>


        </section>
      </div>
    

  

  <aside class="note"><b>Note:</b> Following a successful revocation response, it
might take some time before the revocation has full effect.</aside>





  </div>
  

  
        
  







        
<div class="devsite-content-footer nocontent">
  
  
    <p>Except as otherwise noted, the content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see our <a href="https://developers.google.com/terms/site-policies">Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  

  
    
    <p class="devsite-content-footer-date" itemprop="datePublished"
       content="2017-02-09T18:08:18.001190">
      
      Last updated February 9, 2017.
    </p>
  

</div>

        </article>
      </article>
  

        </div>
      

<footer class="devsite-footer-promos nocontent"><nav class="devsite-full-site-width"><ul class="devsite-footer-promos-list"><li class="devsite-footer-promo"><a href="http://apiblog.youtube.com"
           class="devsite-footer-promo-title gc-analytics-event"
           data-category="Site-Wide Custom Events"
           data-label="Content Page Footer Promo"
           ><img class="devsite-footer-promo-icon" src="https://www.gstatic.com/images/icons/material/product/2x/blogger_64dp.png">
          
          
            Blog
          
        </a><div class="devsite-footer-promo-description">The latest news on the YouTube API blog</div></li><li class="devsite-footer-promo"><a href="https://github.com/youtube/api-samples"
           class="devsite-footer-promo-title gc-analytics-event"
           data-category="Site-Wide Custom Events"
           data-label="Content Page Footer Promo"
           ><img class="devsite-footer-promo-icon" src="https://developers.google.com/site-assets/logo-github.svg">
          
          
            GitHub
          
        </a><div class="devsite-footer-promo-description">Find API code samples and other YouTube open-source projects.</div></li><li class="devsite-footer-promo"><a href="https://code.google.com/p/gdata-issues/issues/entry?template=YouTube%20(Defect%20Report)"
           class="devsite-footer-promo-title gc-analytics-event"
           data-category="Site-Wide Custom Events"
           data-label="Content Page Footer Promo"
           ><img class="devsite-footer-promo-icon" src="https://developers.google.com/site-assets/developers_64dp.png">
          
          
            Issue Tracker
          
        </a><div class="devsite-footer-promo-description">Something wrong? Send us a bug report!</div></li><li class="devsite-footer-promo"><a href="http://stackoverflow.com/questions/ask?tags=youtube-api"
           class="devsite-footer-promo-title gc-analytics-event"
           data-category="Site-Wide Custom Events"
           data-label="Content Page Footer Promo"
           ><img class="devsite-footer-promo-icon" src="https://developers.google.com/site-assets/logo-stack-overflow.svg">
          
          
            Stack Overflow
          
        </a><div class="devsite-footer-promo-description">Ask a question under the youtube-api tag</div></li><li class="devsite-footer-promo"><a href="https://www.youtube.com/user/YouTubeDev"
           class="devsite-footer-promo-title gc-analytics-event"
           data-category="Site-Wide Custom Events"
           data-label="Content Page Footer Promo"
           ><img class="devsite-footer-promo-icon" src="https://www.gstatic.com/images/icons/material/product/2x/youtube_64dp.png">
          
          
            Videos
          
        </a><div class="devsite-footer-promo-description">Check out the YouTube Developer Relations team&#39;s YouTube channel</div></li></ul></nav></footer><footer class="devsite-footer-linkboxes nocontent
               
               devsite-footer-linkboxes-with-sites"><nav class="devsite-full-site-width"><ul class="devsite-footer-linkboxes-list"><li class="devsite-footer-linkbox "><h3 class="devsite-footer-linkbox-heading">Tools</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/apis-explorer/#p/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Google APIs Explorer
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/youtube_player_demo" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                YouTube Player Demo
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/youtube_subscribe_button" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Configure a Subscribe Button
            </a></li></ul></li><li class="devsite-footer-linkbox "><h3 class="devsite-footer-linkbox-heading">Issue Tracker</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://code.google.com/p/gdata-issues/issues/entry?template=YouTube%20(Defect%20Report)" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                File a bug
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://code.google.com/p/gdata-issues/issues/entry?template=YouTube%20(Enhancement%20Request)" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Request a feature
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://code.google.com/p/gdata-issues/issues/list?q=label:API-YouTube" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                See open issues
            </a></li></ul></li><li class="devsite-footer-linkbox "><h3 class="devsite-footer-linkbox-heading">Product Info</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/terms" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Terms of Service
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/branding_guidelines" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Branding Guidelines
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/creating_monetizable_applications" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Monetization Guidelines
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/youtube-api-list" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                APIs subject to Deprecation Policy
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-sites"><a href="https://developers.google.com/"
           class="gc-analytics-event devsite-footer-linkbox-logo-link"
           data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link"><img class="devsite-footer-linkbox-logo"
               src="https://developers.google.com/_static/d7147bb846/images/redesign-14/lockup-color-knockout.png"
               alt="Google Developers"></a><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="//developer.android.com/index.html" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Android Link">
                Android
            </a></li><li class="devsite-footer-linkbox-item"><a href="//developer.chrome.com/home" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Chrome Link">
                Chrome
            </a></li><li class="devsite-footer-linkbox-item"><a href="//firebase.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Firebase Link">
                Firebase
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloud.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Cloud Link">
                Google Cloud Platform
            </a></li><li class="devsite-footer-linkbox-item"><a href="//developers.google.com/products/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Products Link">
                All Products
            </a></li></ul></li></ul></nav></footer><footer class="devsite-utility-footer"><nav class="devsite-utility-footer-nav devsite-nav devsite-full-site-width"><div class="devsite-utility-footer-nav-left"><form class="devsite-utility-footer-language" action="/i18n/setlang/" method="post"><input type="hidden" name="xsrf_token" value="UtiFYDZeenWolv1RkJjLhGEr4kvnBAsjeXMFgmix5UA6MTUyNDQ1ODMxNzIzOTU2MA" /><input type="hidden" name="next" value="/youtube/v3/guides/auth/client-side-web-apps"><select class="devsite-utility-footer-language-select kd-select" name="language"
                track-type="languageSelector" track-name="click"><option value="id"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="id">
            Bahasa Indonesia
          </option><option value="de"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="de">
            Deutsch
          </option><option value="en"
                 selected="selected" 
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="en">
            English
          </option><option value="es"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="es">
            espaol
          </option><option value="fr"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="fr">
            franais
          </option><option value="pt-br"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="pt-br">
            Portugus Brasileiro
          </option><option value="ru"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="ru">
            
          </option><option value="ja"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="ja">
            
          </option><option value="zh-cn"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="zh-cn">
            
          </option><option value="ko"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="ko">
            
          </option></select></form><span class="devsite-utility-footer-links"><a class="devsite-utility-footer-link gc-analytics-event"
           href="https://developers.google.com/terms/site-terms"
           data-category="Site-Wide Custom Events"
           data-label="Footer terms link"
           data-footer-link-id="terms"
           >Terms
         </a><a class="devsite-utility-footer-link gc-analytics-event"
           href="//www.google.com/policies/privacy/"
           data-category="Site-Wide Custom Events"
           data-label="Footer privacy link"
           data-footer-link-id="privacy"
           >Privacy
         </a></span></div><div class="devsite-utility-footer-nav-right"><div class="devsite-utility-footer-newsletter-signup-text">
        Sign up for the Google Developers newsletter
      </div><a class="button button-primary devsite-utility-footer-newsletter-signup-button"
         href="//services.google.com/fb/forms/googledevelopersnewsletter/?utm_medium=referral&amp;utm_source=google-products&amp;utm_team=googledevs&amp;utm_campaign=201611-newsletter-launch">
        
        Subscribe
      </a></div></nav></footer><div class="devsite-feedback-dialog devsite-dialog"><div class="devsite-dialog-contents"><h3>Send feedback about...</h3><div class="devsite-feedback-item"><a data-type="documentation" class="gc-analytics-event"
           data-category="Site-Wide Custom Events" data-label="Docs Feedback Image"
           track-type="feedback" track-name="feedbackDocIcon" track-metadata-position="header"><div class="devsite-feedback-item-icon-container"><div class="devsite-feedback-item-icon-white devsite-feedback-item-icon-docs
                        material-icons"></div></div></a><div class="devsite-feedback-item-name">
          
          This page
        </div><div class="devsite-feedback-item-description"><a data-type="documentation" tabindex="0" class="gc-analytics-event"
             data-category="Site-Wide Custom Events" data-label="Docs Feedback Text"
             track-type="feedback" track-name="feedbackDocText" track-metadata-position="header">
            
            Documentation feedback
          </a></div></div><div class="devsite-feedback-item"><a data-type="product" tabindex="0" class="gc-analytics-event"
           data-category="Site-Wide Custom Events" data-label="Product Feedback Image"
           track-type="feedback" track-name="feedbackProductIcon" track-metadata-position="header"
         ><img src="https://developers.google.com/site-assets/logo-youtube.svg"
                 class="devsite-feedback-item-icon"
                 alt="YouTube Data API"></a><div class="devsite-feedback-item-name">
        YouTube Data API
        </div><div class="devsite-feedback-item-description"><a data-type="product" tabindex="0" class="gc-analytics-event"
             data-category="Site-Wide Custom Events" data-label="Product Feedback Text"
             track-type="feedback" track-name="feedbackProductText" track-metadata-position="header"
           >
            
            Product feedback
          </a></div></div></div><div class="devsite-dialog-buttons"><button type="button" class="devsite-feedback-cancel button-white gc-analytics-event"
              data-category="Site-Wide Custom Events" data-label="Cancel Feedback Button"
              track-type="feedback" track-name="cancelFeedbackButton"
              track-metadata-position="header">
        
        Cancel
      </button></div></div><script>
  $(document).ready(function() {
    new devsite.feedback.Widget({
        'product_id': '5020320',
        'bucket': 'Default',
        'context': '',
        'version': 'devsite-20180420-r00-rc00.default'
      },
      document.querySelectorAll('.devsite-feedback-button'),
      'en',
      document.querySelector('.devsite-site-mask'),
      document.querySelector('.devsite-feedback-dialog'),
      document.querySelector('.devsite-feedback-cancel'),
      document.querySelectorAll('.devsite-feedback-item a:not([href])')
    );
  });
  </script></div><script async defer src="//www.gstatic.com/feedback/api.js"></script><script src="https://developers.google.com/_static2/d7147bb846/jsi18n/"></script><script src="https://developers.google.com/_static/d7147bb846/js/script_foot_closure.js"></script><script src="https://developers.google.com/_static/d7147bb846/js/script_foot.js"></script><script>
        (function($) {
          
          devsite.devsite.Init($, {'ENABLE_BLOCKED_VIDEO_PLACEHOLDER': 0, 'SITE_NAME': 'devsite', 'FULL_SITE_SEARCH_ENABLED': 1, 'ENABLE_CLOUDTRACK': 0, 'VTAGS_ENABLED': 0, 'HISTORY_ENABLED': 1, 'VERSION_HASH': 'd7147bb846', 'SCRIPTSAFE_DOMAIN': 'google-developers.appspot.com', 'ENABLE_BLOCKED_LINK_TOOLTIP': 0, 'ALLOWED_HOSTS': ['.android.com', '.anvato.com', '.apigee.com', '.appspot.com', '.dialogflow.com', '.gonglchuangl.net', '.google.cn', '.google.com', '.googleplex.com', '.nest.com', '.openthread.io', '.openweave.io', '.orbitera.com', '.tensorflow.org'], 'BLOCK_RSS_FEEDS': 0},
                               '[]','en',
                               true, '',
                               {"f62218c009ec029abef196bba5aa34cf": true, "8de7a048f21618359bd37f5ce44be073": false, "098dafe57affddc137df300142652cfd": false, "8e03e230de0bd8a6fe173fdf172e8b3f": true, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "d169d485cf24243a263783dbe42029b1": true, "039e5d84b87fd75807ffb37b7f1bbf2c": true, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true}, '/youtube/v3/',
                               'https://developers.google.com/');
        })(jQuery);

        
        devsite.localInit = function() {
          
        };

      </script><script>
      $('.devsite-utility-footer-language-select').each(function() {
        $(this).change(function(){$('.devsite-utility-footer-language').submit();});
      });
      </script></div><span id="devsite-request-elapsed" data-request-elapsed="307.119846344"></span></body></html>
